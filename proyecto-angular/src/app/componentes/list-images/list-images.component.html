<!-- ! ---------------------------- entity ---------------------------- ! -->
<nav class="navbar navbar-expand-lg navbar-light bg-dark">
    <div class="container">
        <span class="text-light fw-bold fs-4 p-1">ADMINISTRAR IMAGEN</span>
    </div>
</nav>

<!-- ! ---------------------------- links ---------------------------- ! -->
<div class="content" role="main">  
    <div class="card-container">
    <a [routerLink]="'/registrar-imagen'" class="card" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M14 9l-2.519 4-2.481-1.96-5 6.96h16l-6-9zm8-5v16h-20v-16h20zm2-2h-24v20h24v-20zm-20 6c0-1.104.896-2 2-2s2 .896 2 2c0 1.105-.896 2-2 2s-2-.895-2-2z"/></svg>
        <span class="ps-2">Registrar Imagen</span>
        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>    
    </a>

    <a [routerLink]="'/inicio'" class="card" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 13v10h-6v-6h-6v6h-6v-10h-3l12-12 12 12h-3zm-1-5.907v-5.093h-3v2.093l3 3z"/></svg>
        <span class="ps-2">Ir a Inicio</span>
        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
    </a>

    <a [routerLink]="'/lista-categorias'" class="card" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10.773 21.585l-1.368 1.415-10.405-10.429v-8.571h2v7.719l9.773 9.866zm1.999-20.585h-9.772v9.772l12.074 12.228 9.926-9.85-12.228-12.15zm-4.772 7c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z"/></svg>
        <span class="ps-2">Ver Categorías</span>
        <svg class="material-icons" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
    </a>
    </div>
</div>

<!-- ! ---------------------------- table ---------------------------- ! -->
<div class="container-md mb-5 mt-5">
    <table id="mydatatable" class="table table-bordered py-2">
        <thead>
            <tr>
                <th>Id</th>
                <th class="text-center">Img</th>
                <th class="text-center">Nombre</th>
                <th class="text-center">Categoria</th>
                <th class="text-center">Usuario</th>
                <th class="text-center">Avatar</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let i of objImagen">
                <td>{{ i.idImagen }}</td>
                <td class="text-center">
                    <img [src]="i.imagen" style="height: 3em;" class="rounded">
                </td>                
                <td class="text-center">{{ i.titulo }}</td>
                <td class="text-center">{{ i.iCategoria.nombreCategoria }}</td>
                <td class="text-center">{{ i.iUsuario.nombreUsuario }}</td>
                <td class="text-center">
                    <img [src]="i.iUsuario.avatar" style="height: 3em;" class="rounded-circle">
                </td>                
                <td class="text-center">
                    <a (click)= "actualizarImagen(i.idImagen)" class="btn btn-sm btn-default btn-outline-dark me-1">Actualizar</a>
                    <button (click)= "confirmarEliminacion(i.idImagen)" class="btn btn-sm btn-default btn-outline-dark" data-bs-toggle="modal" data-bs-target="#confirmModal">
                        Borrar
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- ! ---------------------------- MODAL ---------------------------- ! -->
<div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="confirmModalLabel">Confirmación</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            ¿Estás seguro de que deseas realizar esta acción?
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <button (click)= "eliminarImagen(idImagenToDelete)" type="button" class="btn btn-primary" data-bs-dismiss="modal" id="confirmAction">
                Confirmar
            </button>
        </div>
        </div>
    </div>
</div>